@scripts = {
    <link href='@routes.Assets.at("stylesheets/quill.snow.css")'
    rel="stylesheet" />
    <script type="text/javascript" src='@routes.Assets.at("javascripts/plugins/quill.js")'></script>
    <link rel="stylesheet" href='@routes.Assets.at("stylesheets/interviews.css")'>
    <script src='@routes.Assets.at("frontend/interviews-pane.js")'></script>
    <script>
        window.addEventListener("DOMContentLoaded", async () => {
            const root = document.getElementById("myspace-interviews-root-student");
            if (!root) return;

            const pane = new InterviewsPane(root, {
            interviews: [],
            role: "student",
            defaultRangeDays: 14,
            staleAfterMinutes: 10,
            onRetry: () => window.location.reload() // simplest
            });

            try {
            // Use same API as summary page; userId is from session on server side,
            // but if your API requires query params, you can inject them later.
            const res = await fetch(`/api/v1/interviews?role=student&limit=100&offset=0`, { credentials: "include" });
            if (!res.ok) throw new Error("Failed to load interviews: " + res.status);
            const data = await res.json();

            pane.interviews = data.items || [];
            pane.loadError = null;
            pane.lastUpdatedAt = new Date();
            pane.render();
            } catch (e) {
            pane.interviews = [];
            pane.loadError = String(e.message || e);
            pane.render();
            }
        });
    </script>

}
@main("My Space (Student)", scripts) {
    <div class="container">
        <div class="row">
            <div class="card-panel">
                <div id="myspace-interviews-root-student"></div>
                <div class="row center">
                    <h4 class="center form-signin-heading" align="center">
                        My Space
                    </h4>
                </div>
                <div class="row center">
                    <div class="col s6 m3">
                        <a href="@routes.ChallengeController.challengeListPostedByUser(1)">
                            <i class="material-icons large">assignment</i>
                            <p>Challenge Applications</p></a>
                    </div>
                    <div class="col s6 m3">
                        <a href="@routes.JobController.jobListPostedByUser(1)">
                            <i class="material-icons large">work</i>
                            <p>Posted Jobs</p>
                        </a>
                    </div>
                    <div class="col s6 m3">
                        <a href="@routes.TAJobController.tajobListPostedByUser(1)">
                            <i class="material-icons large">school</i>
                            <p>Posted TA Jobs</p>
                        </a>
                    </div>
                    <div class="col s6 m3">
                        <a href="@routes.RAJobController.rajobListPostedByUser(1)">
                            <i class="material-icons large">live_help</i>
                            <p>Posted RA Jobs</p>
                        </a>
                    </div>
                    <div class="col s6 m3">
                        <a href="@routes.UserController.userRegisterPage()">
                            <i class="material-icons large">person_add</i>
                            <p>Register Researcher</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
}